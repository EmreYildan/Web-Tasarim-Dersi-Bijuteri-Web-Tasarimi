<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Kolyeler - Diana's jewelry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" media="all" href="../css/style.css">
    <link rel="stylesheet" href="../css/chatbot.css">
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>

    <header id="header">
        <div class="container">
            <a href="index.html" id="logo" title="Emre Mücevherat">Emre Mücevherat</a>
            <div class="right-links">
                <ul>
                    <li><a href="cart.html"><span class="ico-products"></span></a></li>
                    <li><a href="#"><span class="ico-account"></span>Hesap</a></li>
                    <li><a href="#"><span class="ico-signout"></span>Çıkış</a></li>
                </ul>
            </div>
        </div>
    </header>

    <nav id="menu" role="navigation" aria-label="Ana menü">
        <div class="container">
            <button class="trigger" aria-label="Menüyü aç/kapat" aria-expanded="false"></button>
            <ul role="menubar">
                <li role="none"><a href="index.html" role="menuitem">Ana Sayfa</a></li>
                <li class="menu-item has-submenu" role="none">
                    <a href="products.html" role="menuitem" aria-haspopup="true" aria-expanded="false">Ürünlerimiz</a>
                    <ul class="submenu" role="menu" aria-label="Ürün kategorileri">
                        <li role="none"><a href="new-collection.html" role="menuitem">Yeni Koleksiyon</a></li>
                        <li role="none"><a href="necklaces.html" role="menuitem">Kolyeler</a></li>
                        <li role="none"><a href="earrings.html" role="menuitem">Küpeler</a></li>
                        <li role="none"><a href="rings.html" role="menuitem">Yüzükler</a></li>
                    </ul>
                </li>

                <li class="menu-item has-submenu" role="none">
                    <a href="#birimlerimiz" role="menuitem" aria-haspopup="true" aria-expanded="false">Birimlerimiz</a>
                    <ul class="submenu" role="menu" aria-label="Birimlerimiz">
                        <li role="none"><a href="text-page.html#satis" role="menuitem">Satış Birimi</a></li>
                        <li role="none"><a href="text-page.html#musteri" role="menuitem">Müşteri Hizmetleri</a></li>
                        <li role="none"><a href="text-page.html#tasarim" role="menuitem">Tasarım Ekibi</a></li>
                    </ul>
                </li>

                <li role="none"><a href="about.html" role="menuitem">Hakkımızda</a></li>
                <li role="none"><a href="mission-vision.html" role="menuitem">Misyon-Vizyon</a></li>
                <li role="none"><a href="announcements.html" role="menuitem">Duyurular</a></li>
                <li role="none"><a href="statistics.html" role="menuitem">İstatistikler</a></li>
                <li role="none"><a href="contact.html" role="menuitem">İletişim</a></li>
                <li role="none"><a href="cart.html" role="menuitem">Sepet</a></li>
            </ul>
        </div>
    </nav>

    <div id="breadcrumbs">
        <div class="container">
            <ul>
                <li><a href="index.html">Ana Sayfa</a></li>
                <li><a href="products.html">Ürünler</a></li>
                <li>Kolyeler</li>
            </ul>
        </div>
    </div>

    <div id="body">
        <div class="container">
            <div class="products-wrap">
                <aside id="sidebar">
                    <section class="widget">
                        <h3>Kategoriler</h3>
                        <ul>
                            <li><a href="new-collection.html">Yeni Koleksiyon</a></li>
                            <li><a href="necklaces.html" class="active">Kolyeler</a></li>
                            <li><a href="earrings.html">Küpeler</a></li>
                            <li><a href="rings.html">Yüzükler</a></li>
                        </ul>
                    </section>
                    <section class="widget">
                        <h3>Fiyat Aralığı</h3>
                        <ul>
                            <li><a href="#">₺500 - ₺1.000</a></li>
                            <li><a href="#">₺1.000 - ₺2.500</a></li>
                            <li><a href="#">₺2.500 - ₺5.000</a></li>
                            <li><a href="#">₺5.000+</a></li>
                        </ul>
                    </section>
                </aside>
                <div id="content">
                    <h1>Kolyeler</h1>
                    <p>Zarif ve şık kolye modellerimizle tarzınızı tamamlayın. Altın, gümüş ve değerli taşlarla süslenmiş özel tasarımlar.</p>
                    
                    <section class="products" id="products-container">
                        <!-- Ürünler JavaScript ile yüklenecek -->
                    </section>
                    
                    <!-- Pagination -->
                    <ul class="pagination" id="pagination-container" style="display: none;">
                        <!-- Sayfalama JavaScript ile oluşturulacak -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer" role="contentinfo">
        <div class="container">
            <div class="cols">
                <div class="col">
                    <h3>Frequently Asked Questions</h3>
                    <ul>
                        <li><a href="#">Fusce eget dolor adipiscing </a></li>
                        <li><a href="#">Posuere nisl eu venenatis gravida</a></li>
                        <li><a href="#">Morbi dictum ligula mattis</a></li>
                        <li><a href="#">Etiam diam vel dolor luctus dapibus</a></li>
                        <li><a href="#">Vestibulum ultrices magna </a></li>
                    </ul>
                </div>
                <div class="col media">
                    <h3>Social media</h3>
                    <ul class="social">
                        <li><a href="#"><span class="ico ico-fb"></span>Facebook</a></li>
                        <li><a href="#"><span class="ico ico-tw"></span>Twitter</a></li>
                        <li><a href="#"><span class="ico ico-gp"></span>Google+</a></li>
                        <li><a href="#"><span class="ico ico-pi"></span>Pinterest</a></li>
                    </ul>
                </div>
                <div class="col contact">
                    <h3>İletişim Bilgileri</h3>
                    <p>Emre Mücevherat<br>Kocaeli Üniversitesi Teknoloji Fakültesi<br>Umuttepe Kampüsü, İzmit/Kocaeli</p>
                    <p><span class="ico ico-em"></span><a href="mailto:info@emremucevherat.com">info@emremucevherat.com</a></p>
                    <p><span class="ico ico-ph"></span>(0262) 303 10 00</p>
                </div>
                <div class="col newsletter">
                    <h3>Web Tasarım</h3>
                    <p>Bu web sitesi Kocaeli Üniversitesi Teknoloji Fakültesi Bilişim Sistemleri Mühendisliği öğrencisi Emre Yasin Yıldan tarafından tasarlanmıştır.</p>
                    <p><strong>TBL303 Web Tasarımı Dersi</strong><br>2025-2026 Güz Dönemi</p>
                </div>
                <div class="col">
                    <h3>Yönetim</h3>
                    <ul>
                        <li><a href="../admin/index.html" target="_blank">Admin Panel</a></li>
                    </ul>
                </div>
            </div>
            <p class="copy">Copyright 2025 Emre Mücevherat. All rights reserved.</p>
        </div>
        <!-- / container -->
    </footer>

    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write("<script src='../js/jquery-1.11.1.min.js'>\x3C/script>")</script>
    <script src="../js/plugins.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/chatbot.js"></script>
    <script>
let currentPage = 1;
const productsPerPage = 8;
let allCategoryProducts = [];

document.addEventListener('DOMContentLoaded', function() {
    loadCategoryProducts('necklaces');
});

function loadCategoryProducts(category) {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    allCategoryProducts = products.filter(p => p.category === category);
    
    if (allCategoryProducts.length > 0) {
        displayPage(1);
        createPagination();
    } else {
        document.getElementById('products-container').innerHTML = '<p style="text-align: center; padding: 40px; color: #999; grid-column: 1/-1;">Bu kategoride henüz ürün bulunmamaktadır.</p>';
    }
}

function displayPage(page) {
    currentPage = page;
    const startIndex = (page - 1) * productsPerPage;
    const endIndex = startIndex + productsPerPage;
    const pageProducts = allCategoryProducts.slice(startIndex, endIndex);
    
    const productsContainer = document.getElementById('products-container');
    productsContainer.innerHTML = pageProducts.map(product => `
        <article>
            <img src="${product.image}" alt="${product.name}">
            <h3>${product.name}</h3>
            <h4>₺${parseFloat(product.price).toLocaleString('tr-TR', {minimumFractionDigits: 2})}</h4>
            <div class="product-actions">
                <a href="product.html?id=${product.id}" class="btn-add">Detayları Gör</a>
                <button class="btn-add" type="button" onclick="quickAddToCart(${product.id})">Sepete Ekle</button>
            </div>
        </article>
    `).join('');
    
    // Sayfayı yukarı kaydır
    window.scrollTo({ top: 0, behavior: 'smooth' });
    
    updatePagination();
}

function createPagination() {
    const totalPages = Math.ceil(allCategoryProducts.length / productsPerPage);
    
    if (totalPages <= 1) {
        document.getElementById('pagination-container').style.display = 'none';
        return;
    }
    
    document.getElementById('pagination-container').style.display = 'block';
    updatePagination();
}

function updatePagination() {
    const totalPages = Math.ceil(allCategoryProducts.length / productsPerPage);
    const paginationContainer = document.getElementById('pagination-container');
    
    let paginationHTML = '';
    
    // Önceki butonu
    if (currentPage > 1) {
        paginationHTML += `
            <li>
                <a href="#" onclick="changePage(${currentPage - 1}); return false;">
                    <span class="ico-prev"></span>
                </a>
            </li>
        `;
    }
    
    // Sayfa numaraları
    for (let i = 1; i <= totalPages; i++) {
        if (i === currentPage) {
            paginationHTML += `<li class="active"><a href="#" onclick="return false;">${i}</a></li>`;
        } else {
            paginationHTML += `<li><a href="#" onclick="changePage(${i}); return false;">${i}</a></li>`;
        }
    }
    
    // Sonraki butonu
    if (currentPage < totalPages) {
        paginationHTML += `
            <li>
                <a href="#" onclick="changePage(${currentPage + 1}); return false;">
                    <span class="ico-next"></span>
                </a>
            </li>
        `;
    }
    
    paginationContainer.innerHTML = paginationHTML;
}

function changePage(page) {
    displayPage(page);
}

function quickAddToCart(productId) {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    const product = products.find(p => p.id === productId);
    
    if (!product) {
        alert('Ürün bulunamadı!');
        return;
    }
    
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const existingItem = cart.find(item => item.id === productId);
    
    if (existingItem) {
        existingItem.quantity += 1;
    } else {
        cart.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image,
            quantity: 1
        });
    }
    
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartHeader();
    
    alert(product.name + ' sepete eklendi!');
}

function updateCartHeader() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    
    const cartLink = document.querySelector('.right-links a[href="cart.html"]');
    if (cartLink) {
        cartLink.innerHTML = `<span class="ico-products"></span>${totalItems} ürün, ₺${totalPrice.toLocaleString('tr-TR', {minimumFractionDigits: 2})}`;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    updateCartHeader();
});
</script>
</body>
</html>