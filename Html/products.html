<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Diana’s jewelry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" media="all" href="../css/style.css">
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
    /* Ürün kartı aksiyonları: kompakt altalta butonlar */
    .product-actions{ 
        display:flex; 
        flex-direction:column;
        gap:8px; 
        margin-top:10px; 
    }
    .product-actions .btn-add,
    .product-actions button{
        padding: 10px 16px;
        font-size: 13px;
        font-weight: 600;
        line-height: 1.2;
        border-radius: 3px;
        border: 2px solid transparent;
        background: #222;
        color: #fff;
        text-decoration: none;
        display: block;
        text-align: center;
        width: 100%;
        min-height: 38px;
        letter-spacing: .2px;
        transition: all .2s ease;
    }
    /* Birincil: Sepete Ekle */
    .product-actions button{ 
        background:#1f2937; 
        border-color:#1f2937; 
    }
    .product-actions button:hover{ 
        background:#374151; 
        border-color:#374151; 
        transform: translateY(-2px); 
        box-shadow: 0 6px 12px rgba(0,0,0,.2); 
    }

    /* İkincil: Detayları Gör (outline) */
    .product-actions a.btn-add{ 
        background:#ffffff; 
        color:#111; 
        border-color:#d1d5db; 
    }
    .product-actions a.btn-add:hover{ 
        background:#f9fafb; 
        color:#000; 
        border-color:#9ca3af; 
        transform: translateY(-2px); 
        box-shadow: 0 4px 10px rgba(0,0,0,.12); 
        }
    </style>
    <link rel="stylesheet" href="../css/chatbot.css">
</head>
<body>    <header id="header">
        <div class="container">
            <a href="index.html" id="logo" title="Emre Mücevherat">Emre Mücevherat</a>
            <div class="right-links">
                <ul>
                    <li><a href="cart.html"><span class="ico-products"></span></a></li>
                    <li><a href="#"><span class="ico-account"></span>Hesap</a></li>
                    <li><a href="#"><span class="ico-signout"></span>Çıkış</a></li>
                </ul>
            </div>
        </div>
        <!-- / container -->
    </header>
    <!-- / header -->

    <nav id="menu" role="navigation" aria-label="Ana menü">
        <div class="container">
            <button class="trigger" aria-label="Menüyü aç/kapat" aria-expanded="false"></button>
            <ul role="menubar">
                <li role="none"><a href="index.html" role="menuitem">Ana Sayfa</a></li>
                <li class="menu-item has-submenu" role="none">
                    <a href="products.html" role="menuitem" aria-haspopup="true" aria-expanded="false" aria-current="page">Ürünlerimiz</a>
                    <ul class="submenu" role="menu" aria-label="Ürün kategorileri">
                        <li role="none"><a href="new-collection.html" role="menuitem">Yeni Koleksiyon</a></li>
                        <li role="none"><a href="necklaces.html" role="menuitem">Kolyeler</a></li>
                        <li role="none"><a href="earrings.html" role="menuitem">Küpeler</a></li>
                        <li role="none"><a href="rings.html" role="menuitem">Yüzükler</a></li>
                    </ul>
                </li>

                <li class="menu-item has-submenu" role="none">
                    <a href="#birimlerimiz" role="menuitem" aria-haspopup="true" aria-expanded="false">Birimlerimiz</a>
                    <ul class="submenu" role="menu" aria-label="Birimlerimiz">
                        <li role="none"><a href="text-page.html#satis" role="menuitem">Satış Birimi</a></li>
                        <li role="none"><a href="text-page.html#musteri" role="menuitem">Müşteri Hizmetleri</a></li>
                        <li role="none"><a href="text-page.html#tasarim" role="menuitem">Tasarım Ekibi</a></li>
                    </ul>
                </li>

                <li role="none"><a href="about.html" role="menuitem">Hakkımızda</a></li>
                <li role="none"><a href="mission-vision.html" role="menuitem">Misyon-Vizyon</a></li>
                <li role="none"><a href="announcements.html" role="menuitem">Duyurular</a></li>
                <li role="none"><a href="statistics.html" role="menuitem">İstatistikler</a></li>
                <li role="none"><a href="contact.html" role="menuitem">İletişim</a></li>
                <li role="none"><a href="cart.html" role="menuitem">Sepet</a></li>
            </ul>
        </div>
        <!-- / container -->
    </nav>
    <!-- / navigation -->

    <div id="breadcrumbs">
        <div class="container">
            <ul>
                <li><a href="#">Home</a></li>
                <li>Product results</li>
            </ul>
        </div>
        <!-- / container -->
    </div>
    <!-- / body -->

    <div id="body">
        <div class="container">
            <div class="pagination" style="display: none;" id="top-pagination"></div>
            <div class="products-wrap">
                <aside id="sidebar">
                    <div class="widget">
                        <h3>Products per page:</h3>
                        <fieldset>
                            <input checked type="checkbox">
                            <label>8</label>
                            <input type="checkbox">
                            <label>16</label>
                            <input type="checkbox">
                            <label>32</label>
                        </fieldset>
                    </div>
                    <div class="widget">
                        <h3>Sort by:</h3>
                        <fieldset>
                            <input checked type="checkbox">
                            <label>Popularity</label>
                            <input type="checkbox">
                            <label>Date</label>
                            <input type="checkbox">
                            <label>Price</label>
                        </fieldset>
                    </div>
                    <div class="widget">
                        <h3>Condition:</h3>
                        <fieldset>
                            <input checked type="checkbox">
                            <label>New</label>
                            <input type="checkbox">
                            <label>Used</label>
                        </fieldset>
                    </div>
                    <div class="widget">
                        <h3>Price range:</h3>
                        <fieldset>
                            <div id="price-range"></div>
                        </fieldset>
                    </div>
                </aside>
                <div id="content">
                    <section class="products" id="products-container">
                        <!-- Ürünler JavaScript ile yüklenecek -->
                    </section>
                </div>
                <!-- / content -->
            </div>
            <div class="pagination" id="pagination-container" style="display: none;"></div>
        </div>
        <!-- / container -->
    </div>
    <!-- / body -->

    <footer id="footer">
        <div class="container">
            <div class="cols">
                <div class="col">
                    <h3>Sıkça Sorulan Sorular</h3>
                    <ul>
                        <li><a href="sıkçasorulansorular.html">Sipariş Nasıl Verilir?</a></li>
                        <li><a href="sıkçasorulansorular.html">Kargo ve Teslimat</a></li>
                        <li><a href="sıkçasorulansorular.html">İade Şartları</a></li>
                        <li><a href="sıkçasorulansorular.html">Ödeme Yöntemleri</a></li>
                        <li><a href="sıkçasorulansorular.html">Ürün Bakımı</a></li>
                    </ul>
                </div>
                <div class="col media">
                    <h3>Social media</h3>
                    <ul class="social">
                        <li><a href="#"><span class="ico ico-fb"></span>Facebook</a></li>
                        <li><a href="#"><span class="ico ico-tw"></span>Twitter</a></li>
                        <li><a href="#"><span class="ico ico-gp"></span>Google+</a></li>
                        <li><a href="#"><span class="ico ico-pi"></span>Pinterest</a></li>
                    </ul>
                </div>
                <div class="col contact">
                    <h3>İletişim Bilgileri</h3>
                    <p>Diana's Jewelry Mücevherat<br>Kocaeli Üniversitesi Teknoloji Fakültesi<br>Umuttepe Kampüsü, İzmit/Kocaeli</p>
                    <p><span class="ico ico-em"></span><a href="mailto:info@dianasjewelry.com">info@dianasjewelry.com</a></p>
                    <p><span class="ico ico-ph"></span>(0262) 303 10 00</p>
                </div>
                <div class="col newsletter">
                    <h3>Web Tasarım</h3>
                    <p>Bu web sitesi Kocaeli Üniversitesi Teknoloji Fakültesi Bilişim Sistemleri Mühendisliği öğrencisi Emre Yasin Yıldan tarafından tasarlanmıştır.</p>
                    <p><strong>TBL303 Web Tasarımı Dersi</strong><br>2025-2026 Güz Dönemi</p>
                </div>
                <div class="col">
                    <h3>Yönetim</h3>
                    <ul>
                        <li><a href="../admin/index.html" target="_blank">Admin Panel</a></li>
                    </ul>
                </div>
            </div>
            <p class="copy">Copyright 2025 Diana's Jewelry. All rights reserved.</p>
        </div>
        <!-- / container -->
    </footer>
    <!-- / footer -->


    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write("<script src='../js/jquery-1.11.1.min.js'>\x3C/script>")</script>
    <script src="../js/plugins.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/chatbot.js"></script>
    <script>
// =============================
// ÜRÜNLERİ YÜKLE VE SAYFALAMA
// =============================
function formatTL(value){
    return '₺' + parseFloat(value || 0).toLocaleString('tr-TR', {minimumFractionDigits: 2});
}

function getProducts(){
    try {
        const list = JSON.parse(localStorage.getItem('products')) || [];
        return Array.isArray(list) ? list : [];
    } catch(e){
        return [];
    }
}

function updateCartHeader(){
    try {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const totalQty = cart.reduce((sum, it) => sum + (Number(it.quantity) || 0), 0);
        const totalPrice = cart.reduce((sum, it) => sum + ((Number(it.price)||0) * (Number(it.quantity)||0)), 0);
        const headerLink = document.querySelector('.right-links a[href="cart.html"]');
        if (headerLink){
            headerLink.innerHTML = `<span class="ico-products"></span>${totalQty} ürün, ${formatTL(totalPrice)}`;
            headerLink.setAttribute('aria-label', `Sepet: ${totalQty} ürün, toplam ${formatTL(totalPrice)}`);
        }
    } catch(e){}
}

function quickAddToCart(productId){
    const products = getProducts();
    const p = products.find(x => x.id == productId);
    if(!p) return;
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const idx = cart.findIndex(ci => ci.id == p.id);
    if (idx >= 0){
        cart[idx].quantity = (Number(cart[idx].quantity) || 0) + 1;
    } else {
        cart.push({ id: p.id, name: p.name, price: Number(p.price)||0, image: p.image, quantity: 1 });
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    
    // Header'ı güncelle
    if (typeof updateGlobalCartHeader === 'function') {
        updateGlobalCartHeader();
    }
    
    // Kullanıcıya geri bildirim
    alert('✓ Ürün sepete eklendi!');
}

function renderProducts(page=1, perPage=12){
    const all = getProducts();
    const container = document.getElementById('products-container');
    const topPag = document.getElementById('top-pagination');
    const bottomPag = document.getElementById('pagination-container');

    if (!container) return;

    if (all.length === 0){
        container.innerHTML = `<div style="text-align:center; padding:40px; color:#777;">Henüz ürün bulunmuyor. <a href="../admin/products-manage.html">Ürün eklemek için admin paneline gidin</a>.</div>`;
        if (topPag) topPag.style.display = 'none';
        if (bottomPag) bottomPag.style.display = 'none';
        return;
    }

    const totalPages = Math.max(1, Math.ceil(all.length / perPage));
    const current = Math.min(Math.max(1, page), totalPages);
    const start = (current - 1) * perPage;
    const items = all.slice(start, start + perPage);

    container.innerHTML = items.map(product => `
        <article role="listitem">
            <img src="${product.image}" alt="${product.name} ürün görseli" loading="lazy">
            <h3>${product.name}</h3>
            <h4>${formatTL(product.price)}</h4>
            <div class="product-actions">
                <a href="product.html?id=${encodeURIComponent(product.id)}" class="btn-add" aria-label="${product.name} detaylarını görüntüle">Detayları Gör</a>
                <button class="btn-add" type="button" onclick="quickAddToCart(${product.id})" aria-label="${product.name} ürünü sepete ekle">Sepete Ekle</button>
            </div>
        </article>
    `).join('');

    // Sayfalama
    function buildPagination(el){
        if(!el) return;
        el.style.display = 'block';
        let html = '<ul>';
        for(let i=1;i<=totalPages;i++){
            const active = i === current ? ' class="active"' : '';
            html += `<li${active}><a href="#" onclick="renderProducts(${i}, ${perPage}); return false;">${i}</a></li>`;
        }
        html += '</ul>';
        el.innerHTML = html;
    }
    buildPagination(topPag);
    buildPagination(bottomPag);
}

document.addEventListener('DOMContentLoaded', function(){
    updateCartHeader();
    renderProducts(1, 12);
});
    </script>
</body>
</html>
